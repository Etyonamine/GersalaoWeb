<div fxLayoutAlign='center'>
    <h1>Lista de Clientes</h1>
</div>
<div>
    <p *ngIf="!clientes"><em>Carregando...</em></p>

    <div class="commands text-left" *ngIf="clientes">
        <button type="button"
                [routerLink]="['/cliente-novo']"
                class="btn btn-success">
                Novo Registro
            </button>

    </div>
    <mat-form-field [hidden]="!clientes">
        <input matInput (keyup) ="loadData($event.target.value)"
                placeholder="Pesquisar por nome (ou parte dele)...">
    </mat-form-field>
      
    <table mat-table [dataSource]="clientes" 
               class="mat-elevation-z8"  
               [hidden]="!clientes"
               matSort (matSortChange)="loadData()"
               matSortActive="{{defaultSortColumn}}" matSortDirection="{{defaultSortOrder}}"
               >    
        
         
        <ng-container matColumnDef="codigo">
            <mat-header-cell *matHeaderCellDef  mat-sort-header >C&oacute;digo</mat-header-cell>
            <mat-cell *matCellDef="let cliente"> {{cliente.codigo}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="nome">
            <mat-header-cell *matHeaderCellDef  mat-sort-header>Nome</mat-header-cell>
            <mat-cell *matCellDef="let cliente"><a [routerLink]="['/cliente',cliente.codigo]">{{cliente.nome}}</a></mat-cell>
        </ng-container>
        <ng-container matColumnDef="aniversario">
            <mat-header-cell *matHeaderCellDef  mat-sort-header>Aniversario</mat-header-cell>
            <mat-cell *matCellDef="let cliente">{{cliente.aniversario |date:'dd/MM/yyyy' }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="dataCadastro">
            <mat-header-cell *matHeaderCellDef  mat-sort-header>Cadastro</mat-header-cell>
            <mat-cell *matCellDef="let cliente">{{cliente.datacadastro |date:'dd/MM/yyyy HH:mm:ss'}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="dataalteracao">
            <mat-header-cell *matHeaderCellDef  mat-sort-header>Alterado</mat-header-cell>
            <mat-cell *matCellDef="let cliente">{{cliente.dataalteracao |date:'dd/MM/yyyy HH:mm:ss'}}</mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="colunas"></mat-header-row>
        <mat-row *matRowDef="let row; columns: colunas;"></mat-row>

    </table> 
 
    
    <mat-paginator 
        [hidden]="!clientes" 
        (page) = "getData($event)"
        [pageSize]="10"               
        [pageSizeOptions]="[5,10,20,50]"
        showFirstLastButtons>
    </mat-paginator>
     

</div>
 

